# default_project_roles.yaml
#
# Default *project-level* roles for a university research organisation.
#
# Global invariants:
# - All roles can run inference.
# - All roles can manage their *own* project API keys.
# - No role has org/project admin, billing, or user management permissions.
# - No role can manage other usersâ€™ API keys.
#
# Permission grouping is intentionally consistent across roles
# to simplify auditing and comparison.

roles:

  # ------------------------------------------------------------------
  # Inference-only baseline
  # ------------------------------------------------------------------
  - role_name: "Inference Only"
    description: "Can run models across modalities (text, embeddings, moderation, realtime, etc.) but cannot build agents, manage datasets, or fine-tune."
    permissions:
      # Project visibility
      - "project.read"

      # Inference & model access
      - "api.model.read"
      - "model.read"
      - "model.request"
      - "api.model.chat_completions.request"
      - "api.model.embeddings.request"
      - "api.model.moderations.request"
      - "api.model.realtime.request"

      # Batch execution
      - "api.batch.read"
      - "api.batch.write"

      # Responses API
      - "api.responses.read"
      - "api.responses.write"

      # Files & data ingress (Needed for batch uploads)
      - "api.files.read"
      - "api.files.write"

      # API keys (self only)
      - "api.organization.projects.api_keys.self.read"
      - "api.organization.projects.api_keys.self.write"

  # ------------------------------------------------------------------
  # Retrieval-Augmented Generation (RAG)
  # ------------------------------------------------------------------
  - role_name: "RAG"
    description: "Can build retrieval-augmented workflows using files, vector stores,datasets, prompts, and assistants. No fine-tuning or admin access."
    permissions:
      # Project visibility
      - "project.read"

      # Inference & model access
      - "api.model.read"
      - "model.read"
      - "model.request"
      - "api.model.chat_completions.request"
      - "api.model.embeddings.request"
      - "api.model.moderations.request"
      - "api.model.realtime.request"

      # Batch execution
      - "api.batch.read"
      - "api.batch.write"

      # Responses API
      - "api.responses.read"
      - "api.responses.write"

      # Files & data ingress (Needed for batch uploads)
      - "api.files.read"
      - "api.files.write"

      # API keys (self only)
      - "api.organization.projects.api_keys.self.read"
      - "api.organization.projects.api_keys.self.write"

      # Vector stores (retrieval layer)
      - "vector_store.read"
      - "vector_store.write"

      # Assistants & threads (RAG orchestration)
      - "api.assistants.read"
      - "api.assistants.write"
      - "api.threads.read"
      - "api.threads.write"

      # Prompt management (system / reusable prompts)
      - "api.context.prompts.read"
      - "api.context.prompts.write"

      # Datasets (corpora for retrieval & evaluation)
      - "api.datasets.read"
      - "api.datasets.write"

      # External connectors (optional RAG sources)
      - "api.connectors.read"
      - "api.connectors.write"

  # ------------------------------------------------------------------
  # Fine-tuning
  # ------------------------------------------------------------------
  - role_name: "Fine-tuning"
    description: "Can create and manage fine-tuning jobs, training datasets, and evaluation runs. No agent-building or admin privileges."
    permissions:
      # Project visibility
      - "project.read"

      # Inference & model access
      - "api.model.read"
      - "model.read"
      - "model.request"
      - "api.model.chat_completions.request"
      - "api.model.embeddings.request"
      - "api.model.moderations.request"
      - "api.model.realtime.request"

      # Batch execution
      - "api.batch.read"
      - "api.batch.write"

      # Responses API
      - "api.responses.read"
      - "api.responses.write"

      # Files & data ingress (Needed for batch uploads)
      - "api.files.read"
      - "api.files.write"

      # API keys (self only)
      - "api.organization.projects.api_keys.self.read"
      - "api.organization.projects.api_keys.self.write"

      # Datasets (training & evaluation corpora)
      - "api.datasets.read"
      - "api.datasets.write"
      - "api.datasets.dataset.read"
      - "api.datasets.dataset.write"
      - "api.datasets.input_annotations.read"
      - "api.datasets.input_annotations.write"
      - "api.datasets.output_annotations.read"
      - "api.datasets.output_annotations.write"
      - "api.datasets.internal.read"
      - "api.datasets.internal.write"

      # Fine-tuning jobs
      - "api.fine_tuning.jobs.read"
      - "api.fine_tuning.jobs.write"

      # Evaluation runs (no delete for safety)
      - "api.evals.read"
      - "api.evals.write"

  # ------------------------------------------------------------------
  # Agent Builder
  # ------------------------------------------------------------------
  - role_name: "Agent Builder"
    description: "Can design and operate agents and workflows using assistants, tools, datasets, and webhooks. No fine-tuning or admin access."
    permissions:
      # Project visibility
      - "project.read"

      # Inference & model access
      - "api.model.read"
      - "model.read"
      - "model.request"
      - "api.model.chat_completions.request"
      - "api.model.embeddings.request"
      - "api.model.moderations.request"
      - "api.model.realtime.request"

      # Batch execution
      - "api.batch.read"
      - "api.batch.write"

      # Responses API
      - "api.responses.read"
      - "api.responses.write"

      # Files & data ingress (Needed for batch uploads)
      - "api.files.read"
      - "api.files.write"

      # API keys (self only)
      - "api.organization.projects.api_keys.self.read"
      - "api.organization.projects.api_keys.self.write"

      # Assistants & threads
      - "api.assistants.read"
      - "api.assistants.write"
      - "api.threads.read"
      - "api.threads.write"

      # Workflows (agent execution layer)
      - "api.workflows.read"
      - "api.workflows.write"
      - "api.workflows.execute"
      - "api.workflows.share"

      # Common agent tools
      - "vector_store.read"
      - "vector_store.write"
      - "api.datasets.read"
      - "api.datasets.write"
      - "api.context.prompts.read"
      - "api.context.prompts.write"
      - "api.connectors.read"
      - "api.connectors.write"

      # Event-driven automation
      - "api.webhooks.read"
      - "api.webhooks.write"

  # ------------------------------------------------------------------
  # Evaluation & Analysis
  # ------------------------------------------------------------------
  - role_name: "Eval & Analysis"
    description: "Can benchmark models using datasets, files, and eval runs. Cannot fine-tune models or build agents."
    permissions:
      # Project visibility
      - "project.read"

      # Inference & model access
      - "api.model.read"
      - "model.read"
      - "model.request"
      - "api.model.chat_completions.request"
      - "api.model.embeddings.request"
      - "api.model.moderations.request"
      - "api.model.realtime.request"

      # Batch execution
      - "api.batch.read"
      - "api.batch.write"

      # Responses API
      - "api.responses.read"
      - "api.responses.write"

      # Files & data ingress (Needed for batch uploads)
      - "api.files.read"
      - "api.files.write"

      # API keys (self only)
      - "api.organization.projects.api_keys.self.read"
      - "api.organization.projects.api_keys.self.write"

      # Evaluation datasets & runs
      - "api.datasets.read"
      - "api.datasets.write"
      - "api.evals.read"
      - "api.evals.write"
